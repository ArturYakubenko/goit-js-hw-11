{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '45015535-1baf0a26e6ef32c92247ee5f8';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query) {\n  return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch images');\n      }\n      return response.json();\n    });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet galleryLightbox;\n\nexport function renderGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  const markup = images.map(image => {\n    return `\n    <li class=\"item\">\n      <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"info\">\n          <p class =\"text\"><b>Likes</b> ${image.likes}</p>\n          <p class =\"text\"><b>Views</b> ${image.views}</p>\n          <p class =\"text\"><b>Comments</b> ${image.comments}</p>\n          <p class =\"text\"><b>Downloads</b> ${image.downloads}</p>\n        </div>\n      \n      </li>\n    `;\n  }).join('');\n\n  gallery.innerHTML = markup;\n\n  if (!galleryLightbox) {\n    galleryLightbox = new SimpleLightbox('.gallery a');\n  } else {\n    galleryLightbox.refresh();\n  }\n}\n\nexport function clearGallery() {\n  document.querySelector('.gallery').innerHTML = '';\n}","import { fetchImages } from './js/pixabay-api';\nimport { renderGallery, clearGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.getElementById('search-form');\nconst loadingIndicator = document.querySelector('.loading-indicator');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = event.currentTarget.query.value.trim();\n\n  if (query === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Search query cannot be empty',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoadingIndicator();\n\n  fetchImages(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.info({\n          title: 'No results',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        renderGallery(data.hits);\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: error.message,\n      });\n    })\n    .finally(() => {\n      hideLoadingIndicator();\n    });\n});\n\nfunction showLoadingIndicator() {\n  loadingIndicator.style.display = 'block';\n}\n\nfunction hideLoadingIndicator() {\n  loadingIndicator.style.display = 'none';\n}"],"names":["API_KEY","BASE_URL","fetchImages","query","response","galleryLightbox","renderGallery","images","gallery","markup","image","SimpleLightbox","clearGallery","searchForm","loadingIndicator","event","iziToast","showLoadingIndicator","data","error","hideLoadingIndicator"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CACjC,OAAO,MAAM,GAAGF,CAAQ,QAAQD,CAAO,MAAMG,CAAK,0DAA0D,EACzG,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAOA,EAAS,MACtB,CAAK,CACL,CCRA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAO,IAAIG,GACjB;AAAA;AAAA,iBAEMA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,0CAGhBA,EAAM,KAAK;AAAA,0CACXA,EAAM,KAAK;AAAA,6CACRA,EAAM,QAAQ;AAAA,8CACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAK1D,EAAE,KAAK,EAAE,EAEVF,EAAQ,UAAYC,EAEfJ,EAGHA,EAAgB,QAAO,EAFvBA,EAAkB,IAAIM,EAAe,YAAY,CAIrD,CAEO,SAASC,GAAe,CAC7B,SAAS,cAAc,UAAU,EAAE,UAAY,EACjD,CC9BA,MAAMC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAmB,SAAS,cAAc,oBAAoB,EAEpED,EAAW,iBAAiB,SAAUE,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMZ,EAAQY,EAAM,cAAc,MAAM,MAAM,OAE9C,GAAIZ,IAAU,GAAI,CAChBa,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDJ,IACAK,IAEAf,EAAYC,CAAK,EACd,KAAKe,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBF,EAAS,KAAK,CACZ,MAAO,aACP,QAAS,0EACnB,CAAS,EAEDV,EAAcY,EAAK,IAAI,CAE/B,CAAK,EACA,MAAMC,GAAS,CACdH,EAAS,MAAM,CACb,MAAO,QACP,QAASG,EAAM,OACvB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,CACL,CAAC,EAED,SAASH,GAAuB,CAC9BH,EAAiB,MAAM,QAAU,OACnC,CAEA,SAASM,GAAuB,CAC9BN,EAAiB,MAAM,QAAU,MACnC"}